(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7717:(e,t,s)=>{Promise.resolve().then(s.bind(s,2504))},2504:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var r,n=s(1133),a=s(1321);let i=(0,a.createContext)({user:null,loading:!0,error:null,logout:async()=>{}});function o(e){let{children:t}=e,[s,r]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/users/me");if(e.ok){let t=await e.json();t.user&&r(t.user)}}catch(e){console.error("Failed to fetch user session",e),d("Could not fetch user session.")}finally{l(!1)}})()},[]);let u=async()=>{try{await fetch("/api/auth/logout",{method:"POST"})}catch(e){console.error("Logout API call failed.",e)}finally{window.location.href="/"}};return(0,n.jsx)(i.Provider,{value:{user:s,loading:o,error:c,logout:u},children:t})}function l(){let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}class c{async getSimulation(e){return this.simulations.get(e)||null}async createSimulation(e){let t=e.id||"sim_".concat(Date.now());return e.id=t,this.simulations.set(t,e),t}async updateSimulation(e,t){let s=this.simulations.get(e);s&&this.simulations.set(e,{...s,...t})}async getSimulationsByUser(e){return[]}async getCompany(e){return this.companies.get(e)||null}async getCompaniesBySimulation(e){return Array.from(this.companies.values()).filter(t=>t.simulationId===e)}async createCompany(e){let t=e.id||"company_".concat(Date.now());return e.id=t,this.companies.set(t,e),t}async updateCompany(e,t){let s=this.companies.get(e);s&&this.companies.set(e,{...s,...t})}async getProduct(e){return this.products.get(e)||null}async getProductsByCompany(e){return Array.from(this.products.values()).filter(t=>t.companyId===e)}async createProduct(e){let t=e.id||"product_".concat(Date.now());return e.id=t,this.products.set(t,e),t}async updateProduct(e,t){let s=this.products.get(e);s&&this.products.set(e,{...s,...t})}async getDecision(e){return this.decisions.get(e)||null}async getDecisionsByCompany(e,t){let s=Array.from(this.decisions.values()).filter(t=>t.companyId===e);return void 0!==t&&(s=s.filter(e=>e.period===t)),s}async createDecision(e){let t=e.id||"decision_".concat(Date.now());return e.id=t,this.decisions.set(t,e),t}async updateDecision(e,t){let s=this.decisions.get(e);s&&this.decisions.set(e,{...s,...t})}async getMarketConditions(e,t){let s="".concat(e,"_").concat(t);return this.marketConditions.get(s)||null}async createMarketConditions(e){let t=e.id||"market_".concat(Date.now());e.id=t;let s="".concat(e.simulationId,"_").concat(e.period);return this.marketConditions.set(s,e),t}async getPerformanceResults(e,t){let s="".concat(e,"_").concat(t);return this.performanceResults.get(s)||null}async getPerformanceHistory(e){return Array.from(this.performanceResults.values()).filter(t=>t.companyId===e).sort((e,t)=>e.period-t.period)}async createPerformanceResults(e){let t=e.id||"perf_".concat(Date.now());e.id=t;let s="".concat(e.companyId,"_").concat(e.period);return this.performanceResults.set(s,e),t}async getProductPerformance(e,t){let s="".concat(e,"_").concat(t);return this.productPerformance.get(s)||null}async getProductPerformanceHistory(e){return Array.from(this.productPerformance.values()).filter(t=>t.productId===e).sort((e,t)=>e.period-t.period)}async createProductPerformance(e){let t=e.id||"prod_perf_".concat(Date.now());e.id=t;let s="".concat(e.productId,"_").concat(e.period);return this.productPerformance.set(s,e),t}async getEvents(e,t){let s=Array.from(this.events.values()).filter(t=>t.simulationId===e);return void 0!==t&&(s=s.filter(e=>e.period===t)),s}async createEvent(e){let t=e.id||"event_".concat(Date.now());return e.id=t,this.events.set(t,e),t}async getUser(e){return this.users.get(e)||null}async getUserByEmail(e){return Array.from(this.users.values()).find(t=>t.email===e)||null}async createUser(e){let t=e.id||"user_".concat(Date.now());return e.id=t,this.users.set(t,e),t}async updateUser(e,t){let s=this.users.get(e);s&&this.users.set(e,{...s,...t})}constructor(){this.simulations=new Map,this.companies=new Map,this.products=new Map,this.decisions=new Map,this.marketConditions=new Map,this.performanceResults=new Map,this.productPerformance=new Map,this.events=new Map,this.users=new Map}}let d=null!==(r=globalThis.mockDb)&&void 0!==r?r:null,u=(0,a.createContext)(null);function h(e){let{children:t}=e,s=(d||(d=new c),d);return(0,n.jsx)(u.Provider,{value:s,children:t})}function x(e){let{onSuccess:t,onRegisterClick:s}=e,[r,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),x=async e=>{if(e.preventDefault(),d(null),h(!0),!r||!o){d("Please enter both email and password"),h(!1);return}try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:o})}),t=await e.json();if(!e.ok)throw Error(t.error||"Login failed");window.location.href="/"}catch(e){d(e.message)}finally{h(!1)}};return(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,n.jsx)("h2",{className:"text-2xl text-black font-bold mb-6 text-center",children:"Login to Business Simulation"}),c&&(0,n.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),(0,n.jsxs)("form",{onSubmit:x,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:r,onChange:e=>i(e.target.value),placeholder:"Enter your email",required:!0})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{id:"password",type:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:o,onChange:e=>l(e.target.value),placeholder:"Enter your password",required:!0})]}),(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",disabled:u,children:u?"Logging in...":"Login"})}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,n.jsx)("button",{type:"button",className:"text-blue-500 hover:text-blue-700",onClick:s,children:"Register"})]})})]})]})}function m(e){let{onSuccess:t,onLoginClick:s}=e,[r,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[x,m]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),g=async e=>{if(e.preventDefault(),m(null),!r||!o||!c||!u){m("Please fill in all fields");return}if(c!==u){m("Passwords do not match");return}f(!0);try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:o,password:c})}),t=await e.json();if(!e.ok)throw Error(t.error||"Registration failed");window.location.href="/"}catch(e){m(e.message)}finally{f(!1)}};return(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,n.jsx)("h2",{className:"text-2xl text-black font-bold mb-6 text-center",children:"Create an Account"}),x&&(0,n.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),(0,n.jsxs)("form",{onSubmit:g,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Full Name"}),(0,n.jsx)("input",{id:"name",type:"text",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:r,onChange:e=>i(e.target.value),placeholder:"Enter your full name",required:!0})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:o,onChange:e=>l(e.target.value),placeholder:"Enter your email",required:!0})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{id:"password",type:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:c,onChange:e=>d(e.target.value),placeholder:"Enter your password",required:!0})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,n.jsx)("input",{id:"confirmPassword",type:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:u,onChange:e=>h(e.target.value),placeholder:"Confirm your password",required:!0})]}),(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",disabled:p,children:p?"Registering...":"Register"})}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,n.jsx)("button",{type:"button",className:"text-blue-500 hover:text-blue-700",onClick:s,children:"Login"})]})})]})]})}function p(e){let{onAuthSuccess:t}=e,[s,r]=(0,a.useState)(!0),i=()=>{t&&t()};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-center text-3xl font-extrabold text-gray-900",children:"Business Simulation"}),(0,n.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Make strategic decisions and grow your virtual company"})]}),s?(0,n.jsx)(x,{onSuccess:i,onRegisterClick:()=>r(!1)}):(0,n.jsx)(m,{onSuccess:i,onLoginClick:()=>r(!0)})]})})}var f=s(7252);function g(e){let{children:t,className:s=""}=e;return(0,n.jsx)("div",{className:"w-64 bg-gray-900 text-white flex flex-col h-screen ".concat(s),children:t})}function j(e){let{children:t,className:s=""}=e;return(0,n.jsx)("div",{className:"flex items-center p-6 ".concat(s),children:t})}function w(e){let{children:t,className:s=""}=e;return(0,n.jsx)("nav",{className:"flex-1 px-4 ".concat(s),children:t})}function y(e){let{title:t,children:s,className:r=""}=e;return(0,n.jsxs)("div",{className:"mb-6 ".concat(r),children:[(0,n.jsx)("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:t}),(0,n.jsx)("div",{className:"space-y-1",children:s})]})}function v(e){let{href:t,icon:s,children:r,active:a=!1,className:i=""}=e;return(0,n.jsxs)("a",{href:t,className:"\n        flex items-center px-3 py-2 text-sm font-medium rounded-md\n        ".concat(a?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white","\n        ").concat(i,"\n      "),children:[s&&(0,n.jsx)("span",{className:"mr-3",children:s}),r]})}function b(e){let{children:t,className:s=""}=e;return(0,n.jsx)("div",{className:"p-4 border-t border-gray-700 ".concat(s),children:t})}function N(e){let{title:t,actions:s,className:r=""}=e;return(0,n.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between ".concat(r),children:[(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:t}),s&&(0,n.jsx)("div",{className:"flex items-center space-x-4",children:s})]})}function k(e){let{children:t,sidebar:s,header:r,className:a=""}=e;return(0,n.jsxs)("div",{className:"flex h-screen bg-gray-100 ".concat(a),children:[s,(0,n.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r,(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:t})]})]})}var C=s(4216);function P(e){let{children:t}=e,[s,r]=a.useState(0),[i,o]=a.useState("dashboard"),{user:c,loading:d,logout:u}=l();return(0,n.jsx)(k,{sidebar:(0,n.jsxs)(g,{children:[(0,n.jsxs)(j,{children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-8 h-8 text-indigo-500 mr-3",children:[(0,n.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),(0,n.jsx)("path",{d:"M2 17l10 5 10-5"}),(0,n.jsx)("path",{d:"M2 12l10 5 10-5"})]}),(0,n.jsx)("span",{className:"text-xl font-bold",children:"BusinessSim"})]}),(0,n.jsxs)(w,{children:[(0,n.jsxs)(y,{title:"Main",children:[(0,n.jsx)(v,{href:"/dashboard",active:"dashboard"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,n.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,n.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,n.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),children:"Dashboard"}),(0,n.jsx)(v,{href:"/performance",active:"performance"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("path",{d:"M12 20V10"}),(0,n.jsx)("path",{d:"M18 20V4"}),(0,n.jsx)("path",{d:"M6 20v-4"})]}),children:"Performance"}),(0,n.jsx)(v,{href:"../market",active:"market"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"})]}),children:"Market"})]}),(0,n.jsxs)(y,{title:"Management",children:[(0,n.jsx)(v,{href:"/human-resources",active:"human-resources"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,n.jsx)("circle",{cx:"8.5",cy:"7",r:"4"}),(0,n.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),(0,n.jsx)("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),children:"Human Resources"}),(0,n.jsx)(v,{href:"/marketing",active:"marketing"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),(0,n.jsx)("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),children:"Marketing"}),(0,n.jsx)(v,{href:"/production",active:"production"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),children:"Production"}),(0,n.jsx)(v,{href:"/finance",active:"finance"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),(0,n.jsx)("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),children:"Finance"}),(0,n.jsx)(v,{href:"/research",active:"research"===i,icon:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:(0,n.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),children:"R&D"})]}),(0,n.jsxs)(y,{title:"Products",children:[(0,n.jsx)(v,{href:"/products",active:"products"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),(0,n.jsx)("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),(0,n.jsx)("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),children:"Product Catalog"}),(0,n.jsx)(v,{href:"/products/new",active:"new-product"===i,icon:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,n.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,n.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),children:"New Product"})]})]}),(0,n.jsx)(b,{children:(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold mr-3",children:null==c?void 0:c.name[0]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-white",children:null==c?void 0:c.name}),(0,n.jsx)("div",{className:"text-xs text-gray-400",children:null==c?void 0:c.role.toUpperCase()})]})]}),(0,n.jsx)(C.$,{onClick:u,variant:"primary",children:"Logout"})]})})]}),header:(0,n.jsx)(N,{title:"Business Simulation",actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-md px-3 py-1.5",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-500 mr-2",children:"Period:"}),(0,n.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Q",s+1," 2025"]})]}),(0,n.jsx)(C.$,{variant:"primary",onClick:()=>r(s+1),children:"Advance to Next Period"})]})}),children:t})}var S=s(3587),L=s.n(S),M=s(5005),R=s(4503);function B(e){let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,R.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}function _(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/simulations");if(!e.ok)throw Error("Failed to fetch simulations.");let s=await e.json();console.log("Raw data object received from API:",s),console.log("Is the 'simulations' property an array?",Array.isArray(s.simulations)),t(s.simulations||[])}catch(e){o(e.message)}finally{r(!1)}})()},[]),s)?(0,n.jsx)(D,{}):i?(0,n.jsxs)("div",{className:"p-6 text-red-500",children:["Error: ",i]}):(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Your Simulations"}),(0,n.jsx)(L(),{href:"/new-simulation",children:(0,n.jsx)(C.$,{children:"Create New Simulation"})})]}),0===e.length?(0,n.jsxs)("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"No Simulations Found"}),(0,n.jsx)("p",{className:"text-gray-500 mt-2 mb-4",children:"Get started by creating your first simulation."}),(0,n.jsx)(L(),{href:"/new-simulation",children:(0,n.jsx)(C.$,{children:"Create Your First Simulation"})})]}):(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,n.jsx)(L(),{href:"/simulations/".concat(e.id),className:"block hover:shadow-lg transition-shadow rounded-lg",children:(0,n.jsxs)(M.Zp,{className:"h-full cursor-pointer",children:[(0,n.jsxs)(M.aR,{children:[(0,n.jsx)(M.ZB,{children:e.name}),(0,n.jsx)(M.BT,{children:e.description})]}),(0,n.jsx)(M.wL,{children:(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Period ",e.currentPeriod]})})]})},e.id))})]})}function D(){return(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)(B,{className:"h-8 w-64"}),(0,n.jsx)(B,{className:"h-10 w-44"})]}),(0,n.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,n.jsxs)(M.Zp,{children:[(0,n.jsxs)(M.aR,{children:[(0,n.jsx)(B,{className:"h-6 w-3/4"}),(0,n.jsx)(B,{className:"h-4 w-full mt-2"})]}),(0,n.jsx)(M.wL,{children:(0,n.jsx)(B,{className:"h-4 w-1/4"})})]}),(0,n.jsxs)(M.Zp,{children:[(0,n.jsxs)(M.aR,{children:[(0,n.jsx)(B,{className:"h-6 w-3/4"}),(0,n.jsx)(B,{className:"h-4 w-full mt-2"})]}),(0,n.jsx)(M.wL,{children:(0,n.jsx)(B,{className:"h-4 w-1/4"})})]}),(0,n.jsxs)(M.Zp,{children:[(0,n.jsxs)(M.aR,{children:[(0,n.jsx)(B,{className:"h-6 w-3/4"}),(0,n.jsx)(B,{className:"h-4 w-full mt-2"})]}),(0,n.jsx)(M.wL,{children:(0,n.jsx)(B,{className:"h-4 w-1/4"})})]})]})]})}function E(){let{user:e,loading:t}=l();return t?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Loading..."}),(0,n.jsx)("p",{className:"mt-2 text-gray-600",children:"Please wait while we set up your simulation"})]})}):e?(0,n.jsx)(f.n,{children:(0,n.jsx)(P,{children:(0,n.jsx)(_,{})})}):(0,n.jsx)(p,{})}function A(){return(0,n.jsx)(h,{children:(0,n.jsx)(o,{children:(0,n.jsx)(E,{})})})}},4216:(e,t,s)=>{"use strict";s.d(t,{$:()=>n});var r=s(1133);function n(e){let{children:t,variant:s="primary",size:n="md",className:a="",onClick:i,disabled:o=!1,type:l="button",icon:c}=e;return(0,r.jsxs)("button",{type:l,className:"".concat("inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-indigo-500",outline:"bg-transparent text-indigo-600 border border-indigo-600 hover:bg-indigo-50 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[s]," ").concat({sm:"text-xs px-2.5 py-1.5 rounded",md:"text-sm px-4 py-2 rounded-md",lg:"text-base px-6 py-3 rounded-md"}[n]," ").concat(a),onClick:i,disabled:o,children:[c&&(0,r.jsx)("span",{className:"mr-2",children:c}),t]})}s(1321)},5005:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var r=s(1133),n=s(1321),a=s(4503);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});o.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})});u.displayName="CardFooter"},4503:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(4549),n=s(8848);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[372,587,252,634,775,358],()=>t(7717)),_N_E=e.O()}]);